# EOS.IO 기술 백서

초안:2017년 6월 5일

개요: EOS.IO 소프트웨어는 분산 어플리케이션의 수직 및 수평 확장(scaling)을 가능하게 할 수 있도록 설계된 새로운 블록체인 아키텍처를 도입했습니다. 이는 어플리케이션을 구축 할 수 있는 운영체제(OS)와 같은 구조를 생성함으로써 가능하게 되었습니다. 이 소프트웨어는 수백 개의 CPU 코어 또는 클러스터 전반에 걸쳐 계정, 인증, 데이터베이스, 비동기 통신(ASYNC) 및 어플리케이션 예약을 제공합니다. 그 결과로 생성되는 기술은 초당 수백만 트랜잭션으로 확장되고 사용자 수수료를 없애며 탈중앙화 앱을 빠르고 쉽게 배포 할 수 있는 블록체인 아키텍처입니다.

저작권 © 2017 block.one

누구든지 허가 없이 원래의 출처와 해당 저작권 고지가 언급 된 경우 비영리적이고 교육적인 용도 (즉, 유료 또는 상업적 목적 이외의 목적)로 본 백서의 자료를 사용, 복제 또는 배포 할 수 있습니다.

면책 조항: 이 EOS.IO 기술 백서 초안은 오직 정보 제공의 목적으로서 제공됩니다. block.one은 이 백서에서 도달한 결론의 정확성을 보장하지 않으며, 백서는 "있는 그대로"제공되며 이는 (단, 이에 한정되지는 않음) 명시적이거나 묵시적인 것으로서 어떠한 보증도하지 않습니다. (i) 상품성에 대한 보증 , 특정 목적을 위한 적합성, 타이틀 또는 법규의 위반이 없음; (ii) 본 백서의 내용에 오류가 없거나 어떤 목적에 적합하다는 것; (iii) 그러한 내용이 제3자의 권리를 침해하지 않을 것입니다. 명시적으로 어떠한 보증도 되지 않습니다. block.one과 그 계열사는 이 백서에 포함 된 정보의 사용, 참조 또는 신뢰로 인해 발생하는 모든 종류의 손해에 대해 명시적으로 책임을 지지 않습니다. 어떠한 경우에도 본 백서 또는 여기에 포함 된 내용의 사용, 참조 또는 의존에 대한 직접적, 간접적, 특수적 또는 결과적 손해에 대해 어떠한 개인이나 단체에 대해서도 책임을 지지 않습니다.

EOS 탄생 배경
블록체인 어플리케이션 요구 사항
1. 수백만의 사용자를 지원할 수 있어야 합니다
2. 무료 사용
3. 손쉬운 업그레이드 및 버그 복구
4. 낮은 대기 시간
5. 연속 성능
6. 병렬 성능
합의 알고리즘 (Consensus Algorithm, DPOS)
거래(Transaction) 확인
지분 증명으로서의 트랜잭션 (TaPoS)
계정
메시지 및 처리기
권한 관리 기반 역할
지명된 사용 권한 수준
지명된 메시지 처리기 그룹
사용 권한 매핑
권한 평가
기본 사용 권한 그룹
권한의 병렬 평가
필수 지연 메시지
도난당한 키 복구
어플리케이션의 결정론적 병렬 실행
통신대기 시간 최소화
읽기 전용 메시지 처리기
다중 계정을 가진 원자 트랜잭션
블록체인 상태의 부분 평가
주관적 최고의 스케줄
토큰 모델과 자원 사용
객관적이고 주관적인 측정
수취인 부담
용량 위임
트랜잭션 비용을 토큰 값과 구분
상태 저장 비용
블록 보상
커뮤니티 혜택 어플리케이션
거버넌스
계정 동결
계정 코드 변경
헌법
프로토콜과 구조 개정
긴급 변경
스크립트 및 가상 기계
스키마 정의 메시지
스키마 정의 데이터베이스
어플리케이션과 인증 구분
가상 컴퓨터 독립 아키텍처
웹 어셈블리
이더리움 가상 머신 (EVM)
인터 블록체인 통신
LCV (Light Client Validation)를 위한 Merkle Proofs
인터 체인 통신 지연
완전성 증명
결론

# EOS 탄생 배경

비트코인이 2008년에 탄생한 이후 도입된 블록체인 기술을 기업가와 개발자들이 단일 블록체인 플랫폼에서 광범위한 어플리케이션을 지원하기 위해 이 기술을 일반화하려고 시도해왔고, 기능을 갖춘 탈중앙화 어플리케이션을 지원하기 위해 많은 블록체인 플랫폼이 애를 쓰고 있는 상황입니다.

기본 블록체인 플랫폼이 지나친 수수료와 제한된 계산 용량으로 인해 광범위한 사람들이 블록체인을 이용할 가능성이 적어지는 단점을 갖고 있습니다.

반면, 2014년에 나온 비트쉐어 분산형 거래소와 2016년에 나온 스팀 소셜 미디어 플랫폼과 같은 어플리케이션을 갖춘 블록체인은 매일 수만 명이 이용하고 있는 블록체인입니다.

이 두 가지 블록체인의 특징은 다음과 같습니다.

1. 초당 수천 개의 트랜잭션.
2. 대기시간 1.5초.
3. 수수료 없음.
4. 기존 중앙 집중식 서비스에서 제공되는 것과 유사한 사용자 경험 제공.

# 블록체인 어플리케이션 요구 사항

사람들이 널리 사용하려면 블록체인 어플리케이션은 아래의 요구 사항을 충족할 만큼 유연한 플랫폼을 갖춰야합니다.

## 1. 수백만의 사용자를 지원할 수 있어야 합니다.

이베이, 우버, 에어비엔비와 페이스북과 같은 사업의 아성에 도전하려면 수천만 명의 활발한 사용자를 수용할 수 있는 블록체인 기술이 필요합니다. 

또, 많은 사용자가 이용하지 않는다면 작동하지 않는 어플리케이션도 있을 수 있기 때문에 많은 사용자를 처리할 수 있는 플랫폼이 무엇보다 중요합니다.

## 2. 무료 사용이 가능해야합니다.

어플리케이션 개발자는 사용자에게 무료로 서비스를 제공할 수 있는 유연성을 갖춰야합니다. 사용자들은 이 플랫폼을 이용하고 서비스의 혜택을 무료로 누릴 수 있어야 한다는 것입니다. 사용자들이 무료로 이용할 수 있는 블록체인 플랫폼이 더 널리 사용될 것입니다. 이로써 개발자와 기업은 수익 창출 전략을 만들어 낼 수 있게 됩니다.

## 3. 업그레이드가 쉬워야하고 버그가 발생하더라도 복구할 수 있어야합니다.

블록체인 기반 어플리케이션을 만드는 기업은 새로운 기능으로 어플리케이션을 향상할 수 있는 유연성을 갖춰야합니다.

많은 소프트웨어들이 아주 엄격한 공식적인 검증을 거치더라도 버그에 노출되게 됩니다. 플랫폼은 반드시 버그가 발생할 경우 버그를 수정할 수 있을 만큼 튼튼한 구조를 갖고 있어야 합니다.

## 4. 대기 시간이 짧아야합니다.

2,3초 이상 지연되지 않고 안정적인 피드백을 받아야 사용자가 질 좋은 경험을 하게 됩니다. 여기서 더 길어지게 된다면 사용자는 불만을 갖게 됩니다. 결국 이 어플리케이션은 기성 시장의 블록체인이 아닌 대체 서비스에 비해서 경쟁력이 떨어지게 될 것입니다.

## 5. 순차적 성능

순차적인 종속 절차를 따라야해서 병렬 알고리즘으로는 실행될 수 없는 몇 가지 어플리케이션이 있습니다. 

예를들어, 거래소와 같은 어플리케이션은 높은 거래량을 처리하기 위해서 빠른 순차적인 성능과 그 성능을 가진 플랫폼이 필요합니다.

## 6. 병렬 성능

규모가 큰 어플리케이션은 여러 CPU와 컴퓨터에서 작업 부하를 나누어주어야합니다.

# 합의 알고리즘 (Consensus Algorithm, DPOS)

EOS.IO 소프트웨어는 지분 위임 증명(Delegated Proof of Stake=DPOS) 블록체인에서 어플리케이션의 성능 요구 사항을 충족 할 수 있는 유일한 탈중앙화 컨센서스 알고리즘을 사용합니다. 이 알고리즘의 특징은 다음과 같습니다.

1. 블록체인에서 토큰을 보유한 사람들은 지속적인 승인 투표 시스템을 통해 블록 생산자를 선택할 수 있습니다.
2. 누구나 블록 생산에 참여할 수 있습니다.
3. 모든 다른 생산자에 비해 받은 총 투표 수에 비례하여 블록을 생산할 수 있는 기회가 주어집니다.
4. 프라이빗 블록체인의 경우 관리자는 토큰을 사용하여 IT 직원을 추가하고 제거할 수 있습니다.
5. EOS.IO 소프트웨어는 정확히 3초마다 블록이 생산될 수 있게 합니다.
6. 정확히 한 명의 생산자가 특정 시점에서 블록을 생산할 권한이 있습니다. 
7. 블록이 예정된 시간에 생성되지 않으면 그 시간 슬롯에 대한 블록은 스킵됩니다.
8. 하나 이상의 블록을 건너 뛸 때 블록체인에 6초 이상의 공백이 있습니다.
9. EOS.IO 소프트웨어 블록은 21라운드를 거쳐서 생성되어 이용됩니다.
10. 각 라운드가 시작할 때 21명의 고유 블록 생산자가 선택됩니다.
11. 총 승인에 의해 상위 20명은 매 라운드마다 자동으로 선택되고 마지막 생산자는 다른 생산자와 관련된 투표수에 비례하여 선택됩니다.
12. 모든 생산자가 다른 생산자와 균형잡힌 연결을 유지할 수 있도록 선택된 생산자는 블록 시간에서 파생된 의사 난수를 이용하여 랜덤하게 섞이게 됩니다.
13. 생산자가 블록을 놓쳐서 지난 24시간 내에 블록을 생산하지 않은 경우, 블록을 다시 생산하기 시작할 의도를 블록체인에 알릴 때까지 해당 생산자는 고려 사항에서 제거됩니다. 이렇게 하면 신뢰할 수 없는 것으로 입증된 사람의 예약은 받지 않게 됩니다. 따라서 블록의 누락을 최소화하여 네트워크가 원활하게 작동할 수 있게 도와줍니다.
14. 정상적인 조건에서 DPOS 블록체인은 어떠한 포크도 겪지 않습니다. 왜냐하면 블록 생산자가 경쟁하기보다는 블록을 생산하기 위해 협력하기 때문입니다. 
15. 설령 포크가 있더라도 자동으로 가장 긴 체인으로 전환할 것으로 합의할 것 입니다. 이러한 방법은 블록이 블록체인 체인 포크에 추가되는 속도가 동일한 합의를 공유하는 블록 생산자의 백분율과 직접적으로 연관이 있기 때문에 효과적입니다. 즉, 더 많은 생산자가있는 블록체인 포크는 생산자 수가 적은 블록체인보다 더 빨리 성장할 것입니다. 
16. 블록 생산자는 동시에 두 포크에 블록을 생산해서는 안 됩니다. 블록 생산자가 이러한 행동을 한다면 투표로 탄핵당할 것입니다. 그러한 이중 생산에 대한 암호화 증거는 정당하지 않은 방법으로 이득을 취한 사람을 자동으로 제거하는 데 사용될 수 있습니다.

## 거래 확인

일반적인 DPOS 블록체인은 블록 생산자 참여율이 100%입니다. 브로드캐스트 시간으로부터 평균 1.5초가 지난 후에는 99.9%의 확실성을 갖고 트랜잭션이 확인된 것으로 볼 수 있습니다.

소프트웨어 버그, 인터넷 체증 또는 악성 블록 생산자가 두 개 이상의 포크를 생성하는 특별한 경우가 있습니다. 트랜잭션이 불가역성을 갖는다는 절대적인 확신을 얻기 위해 노드는 21명의 블록 생산자 중 15명의 확인을 기다리는 방법을 선택할 수 있습니다. EOS.IO 소프트웨어의 일반적인 구성에 따르면, 이 과정은 정상적인 상황에서는 평균 45초가 소요됩니다. 기본적으로 모든 노드는 21 명의 생산자 중 15명이 확인한 블록을 불가역적이라고 판단하고 길이에 관계없이 그러한 블록을 제외하는 포크로는 전환하지 않을 것입니다.

노드가 포크 시작 9초 이내에 소수 포크에 있을 확률이 높음을 사용자에게 경고 할 수 있습니다. 블록이 2회 연속 누락된 이후 노드가 소수 포크에 있을 확률은 95%입니다. 3번 연속 누락 된 블록이 있으면 소수 포크에 있을 확률이 99%이게 됩니다. 운영자에게 무언가 잘못되었다는 사실을 신속하게 경고하기 위해 누락 된 노드, 최근 참여율 및 기타 요인에 대한 정보를 활용할 강력한 예측 모델을 생성할 수 있습니다.

이러한 경고에 대해 비즈니스 트랜잭션의 성격에 따라 다른 응답을 받게 되지만, 가장 간단한 응답은 경고가 멈출 때까지 15/21 확인을 기다리는 것입니다.

## 지분 증명으로서의 거래 (Transaction as Proof of Stake, TaPoS)

EOS.IO 소프트웨어는 모든 트랜잭션이 최근 블록 헤더의 해시를 포함 할 것을 요구합니다. 이 해시는 두 가지 용도로 사용됩니다.

1. 참조된 블록을 포함하지 않는 포크에서 트랜잭션 리플레이를 방지합니다. 
2. 특정 사용자와 그들의 지분이 특정 포크에 있다는 것을 네트워크에 알립니다.

시간이 지남에 따라 모든 사용자는 위조 사용자가 합법적인 블록체인에서 트랜잭션을 마이그레이션 할 수 없으므로 이 블록체인에서 위조 체인을 만들어 지는 것이 어렵다는 것을 직접 확인하게 됩니다.

# 계정

1. 모든 계정을 2~32 자의 사람이 읽을 수 있는 고유한 이름으로 볼 수 있게 합니다. 

2. 이름은 계정 작성자가 선택합니다. 

3. 모든 계정은 계정 데이터 저장 비용을 충당하기 위해서 계정을 만들 때 최소한의 계정 잔액이 있어야만 만들 수 있습니다. 

4. 계정 이름은 네임 스페이스도 지원합니다. 네임 스페이스는 @domain 계정의 소유자만이 @user.domain과 같은 계정을 만들 수 있게 하는 서비스입니다.

탈중앙화 환경에서 어플리케이션 개발자는 새로운 사용자를 가입시키기 위하여 계정 생성의 명목 비용을 지불하게 될 것 입니다. 전통적인 사업은 이미 광고, 무료 서비스 등의 형태로 그들이 보유한 고객들마다 상당한 액수의 돈을 지출합니다. 새로운 블록체인 계정을 만드는데 드는 돈은 그에 비하면 (너무 적어서) 중요하지 않습니다. 다행히도 이미 다른 어플리케이션에서 등록한 사용자의 계정을 만들 필요는 없습니다.

## 메시지 및 처리기

1. 각 계정은 구조화 된 메시지를 다른 계정으로 보낼 수 있습니다.

2. 메시지를 받을 때 메시지를 처리   할 스크립트를 정의 할 수 있습니다.

3. 각 계정에 자체 메시지 처리기에서만 액세스 할 수 있는 자체 프라이빗 데이터베이스를 제공받을 수 있습니다.

4. 메시지 처리 스크립트는 다른 계정으로 메시지를 보낼 수도 있습니다. 

메시지와 자동화 된 메시지 처리기의 결합은 EOS.IO가 스마트 컨트랙트를 정의하는 방법입니다.

## 역할 기반 사용 권한 관리

1. 사용 권한 관리에는 메시지가 적절한 권한을 가지고 있는지 여부를 결정하는 작업이 포함됩니다. 가장 간단한 권한 관리는 트랜잭션에 필요한 서명이 있는지 확인하는 것이지만 이는 필요한 서명이 이미 알려져 있는 경우에만 해당됩니다. 

2. 일반적으로 권한은 개인 또는 집단이 갖고 있으며, 그 둘이 서로에게 영향을 주지 않도록 구분됩니다. 

3. EOS.IO 소프트웨어는 누가 언제 무엇을 할 수 있는지에 대한 세밀하고 높은 수준의 통제권을 계정에 부여하는 선언적 허가 관리 시스템을 제공합니다.

4. 인증 및 권한 관리를 표준화하고 어플리케이션의 사업 논리와는 분리하는 것이 중요합니다. 이를 통해 도구를 개발하여 일반적인 용도로 사용 권한을 관리하도록 할 수 있으며 성능 최적화에 중요한 기회를 제공 할 수 있습니다.

5. 모든 계정은 다른 계정과 개인키의 가중치 조합으로 제어 될 수 있습니다. 이러한 방식을 통해 사용 권한이 실제로 구성되는 방식을 반영하는 계층적 권한 구조가 만들어지며 자금에 대한 다중 사용자 제어가 이전 보다 더 쉬워집니다. 

6. 다중 사용자 제어는 보안에 있어 가장 큰 기여를 하는 것 중 한가지이며, 이것이 올바르게 사용될 경우 해킹으로 인한 도난 위험을 상당 수 제거 할 수 있습니다.

7. EOS.IO 소프트웨어를 사용하면 어떤 조합의 키의 조합과/ 또는 다른 계정 둘 다 특정 메시지 유형을 다른 계정으로 보낼 수 있는지 정의 할 수 있습니다.  예를 들어, 사용자의 소셜 미디어 계정에 하나의 키를, 거래소에 액세스하기 위해 다른 키를 가질 수 있습니다. 다른 계정에게 키를 할당하지 않고 그 계정이 사용자 계정을 대신하여 행동 할 수 있는 권한을 부여 할 수도 있습니다.

### 지명된 사용 권한 수준

1. 계정은 EOS.IO 소프트웨어를 사용하여 지명된 사용 권한 수준을 정의 할 수 있으며 각 권한 수준은 보다 높은 수준의 지명된 사용 권한에서 파생 될 수 있습니다. 

2. 지명된 각 사용 권한 수준은 권한을 정의합니다. 여기서의 권한은 키 와/또는 다른 계정의 지명된 사용 권한 수준으로 구성된 임계 값 다중 서명 검사입니다. 예를 들어, 계정의 "친구" 권한 수준은 계정의 친구들이 동일하게 제어 할 계정에 대해 설정할 수 있습니다.

3. 또 다른 예는 3개의 하드 코드 된 지명된 권한 수준(소유자, 활성 및 게시)이 있는 스팀 블록체인입니다. 게시 권한은 투표 및 포스팅과 같은 사회적 행위만 수행 할 수 있지만 활성 권한은 소유자 변경을 제외한 모든 작업을 수행 할 수 있습니다. 소유자 권한은 냉장 보관을 의미하며 모든 것을 수행 할 수 있습니다. 

4. EOS.IO는 각 계정 소유자가 자신의 계층 구조와 작업 그룹을 정의 할 수 있게 함으로써 이 개념을 일반화합니다.

### 지명된 메시지 처리기 그룹

1. EOS.IO 소프트웨어를 사용하면 각 계정이 자체 메시지 처리기를 지명된 그룹과 중첩 된 그룹으로 구성 할 수 있습니다. 

2. 이러한 지명된 메시지 처리기 그룹은 권한 수준을 구성 할 때 다른 계정에서 참조 할 수 있습니다.

3. 최고 수준의 메시지 처리기 그룹은 계정 이름이고 가장 낮은 수준은 계정에서 수신되는 개별 메시지 유형입니다. 이 그룹은 다음과 같이 참조 할 수 있습니다 : 
@accountname.groupa.subgroupb.MessageType.

4. 이 모델에서는 거래소 계약을 통해 주문 생성을 그룹화하고 입출금과는 별개로 취소할 수 있습니다. 거래소 계약에 의해 이 그룹은 거래소 사용자에게 편리합니다.

### 사용 권한 매핑

1. EOS.IO 소프트웨어를 사용하면 각 계정에서 모든 계정의 지명된 메시지 처리기 그룹과 고유의 지명된 사용 권한 등급 간의 매핑을 정의 할 수 있습니다. 예를 들어 계정 소유자는 계정 소유자의 소셜 미디어 어플리케이션을 계정 소유자의 "친구"권한 그룹에 매핑 할 수 있습니다. 

2. 이 매핑을 사용하면 모든 친구가 계정 소유자의 소셜 미디어에 계정 소유자로 게시 할 수 있습니다. 계정 보유자로 게시하더라도 메시지에 서명하기 위해 자신의 키를 사용합니다. 즉, 어떤 친구가 어떤 방법으로 계정을 사용했는지 식별 할 수 있습니다.

### 사용 권한 평가 과정

1. @alice에서 @bob으로 "Action"유형의 메시지를 전달합니다.
2. EOS.IO 소프트웨어는 @alice가 @bob.groupa.subgroup.Action에 대한 사용 권한 매핑을 정의했는지 먼저 확인합니다. 
3. 아무것도 발견되지 않으면 @bob.groupa.subgroup, @bob.groupa 및 마지막으로 @bob에 대한 매핑이 검사됩니다. 
4. 더 이상 일치하는 항목이 없으면 가정된 매핑이 명명된 권한 그룹 @alice.active로 연결됩니다.
5. 맵핑이 식별되면, 서명 권한은 임계 값 다중 서명 프로세스와 지명된 사용 권한과 연관된 권한을 사용하여 유효성이 검증됩니다. 
6. 만약, 실패하면 부모 사용 권한까지 이동하고 궁극적으로 소유자 권한 @alice.owner로 이동합니다.

#### 기본 사용 권한 그룹

이 기술은 모든 계정이 두 가지 그룹을 가질 수 있도록 합니다.

1. 모든 것을 할 수 있는 "소유자(owner)"그룹
2. 소유자 그룹 변경을 제외한 모든 것을 할 수 있는 "활성(active)"그룹. 

다른 모든 사용 권한 그룹은 "활성"그룹에서 파생됩니다.

#### 사용 권한의 병렬 평가

1. 사용 권한 평가 프로세스는 "읽기 연산"이며 트랜잭션의 사용 권한 변경은 블록이 끝날 때까지 적용되지 않습니다. 

2. 즉, 모든 트랜잭션에 대한 모든 키와 권한 평가를 병렬로 실행할 수 있습니다. 

3. 또한 롤백 해야 하는 값 비싼 어플리케이션 논리를 시작하지 않고도 권한의 신속한 유효성 검사가 가능하다는 것을 의미합니다. 

4. 마지막으로, 보류중인 트랜잭션이 수신 될 때 트랜잭션 권한을 평가할 수 있으며 트랜잭션이 적용될 때 다시 평가할 필요가 없습니다.

5. 모든 것을 고려하면 권한 검증은 트랜잭션의 유효성을 확인하는 데 필요한 계산의 상당 부분을 차지합니다. 

6. 이 기능을 읽기 연산과 병렬성을 가진 프로세스로 만들면 성능이 크게 향상됩니다.

7. 메시지 로그에서 결정성을 가진 상태를 재생성하기 위해 블록체인을 리플레이할 때 권한을 다시 평가할 필요가 없습니다. 트랜잭션이 알려진 양호한 블록에 포함되어 있으므로 이 단계를 건너뛰어도 됩니다.

8. 이렇게 되면 끊임없이 커지는 블록체인 리플레이와 관련된 계산 부하를 크게 줄일 수 있습니다.

## 메시지에 필수 지연 포함

시간은 보안의 핵심 요소입니다. 대부분의 경우, 개인키가 사용될 때까지 개인키가 도용되었는지 여부를 알 수 없습니다. 일상적인 사용을 위해 인터넷에 연결된 컴퓨터에 키를 보관해야하는 어플리케이션이 있는 경우 시간 기반 보안이 더욱 중요합니다. EOS.IO 소프트웨어를 사용하면 어플리케이션 개발자가 특정 메시지가 적용되기 전에 블록에 포함 된 후 최소 시간 동안 기다려야한다는 것을 나타낼 수 있게 해줍니다. 이 기간 동안 특정 메세지는 취소 될 수 있습니다.

사용자는 이러한 메시지 중 하나가 브로드캐스트 될 때 이메일 또는 문자 메시지를 통해 통지를 받을 수 있습니다. 승인하지 않은 경우 계정 복구 프로세스를 사용하여 계정을 복구하고 메시지를 철회 할 수 있습니다.

필요한 지연은 작업의 민감도에 따라 다릅니다. 커피를 지불하는 데 지체없이 처리되고 몇초만에 비가역적으로 될 수 있고, 집을 사는 데 72시간의 확신할 수 있는 기간이 필요할 수도 있습니다. 전체 계정을 새로운 권한으로 이전하는 데에는 최대 30일이 걸릴 수 있습니다. 정확한 지연 시간은 어플리케이션 개발자와 사용자가 결정합니다.

## 도난당한 열쇠로부터의 회복

EOS.IO 소프트웨어는 사용자가 키를 도난당했을 때 계정의 통제 권한을 복원 할 수 있는 방법을 제공합니다. 계정 소유자는 지난 30일 동안 활성화 된 모든 소유자 키와 지정된 계정 복구 파트너의 승인을 사용하여 자신의 계정에서 소유자 키를   재설정 할 수 있습니다. 계정 복구 파트너는 계정 소유자의 도움 없이 계정을 다시 설정할 수 없습니다.

계정 소유자와 복구 파트너가 이미 계정을 "제어"하기 때문에 해커가 복구 프로세스를 시도하여 얻을 수 있는 것은 없습니다. 또한 복구 프로세스를 시도 한 경우 복구 파트너는 식별 및 다중 요소 인증 (전화 및 전자 메일)을 요구할 수 있습니다. 이렇게 되면 해커가 위험에 노출될 수 있거나 그 과정에서 아무 것도 얻지 못할 수 있습니다.

이 프로세스는 단순한 다중 서명(multi-Sig) 구성과는 매우 다릅니다. 다중 서명 트랜잭션에는 실행되는 모든 트랜잭션의 당사자인 다른 회사가 있지만 복구 프로세스에서는 에이전트가 복구 프로세스의 당사자일 뿐이며 일상적인 트랜잭션에는 아무런 권한이 없습니다. 이를 통해 관련된 모든 사람의 비용과 법적 책임을 획기적으로 줄일 수 있습니다.

# 어플리케이션의 결정론적 병렬 실행

블록체인 합의는 결정론적인(재현 가능한) 행동에 달려있습니다. 이것은 모든 병렬 실행이 뮤텍스 또는 다른 잠금 프리미티브(lock primitives)를 사용하지 않아야 함을 의미합니다. 잠금이 없으면 모든 계정이 자신의 개인 데이터베이스만 읽고 쓸 수 있음을 보증하는 방법이 있어야합니다. 또한 각 계정이 메시지를 순차적으로 처리하고 병렬 처리가 계정 수준에 있음을 의미합니다.

EOS.IO 소프트웨어를 사용하면 블록 생산자가 독립적인 스레드로 메시지 전달을 구성하여 병렬로 평가할 수 있습니다. 각 계정의 상태는 전달된 메시지에만 의존합니다. 스케줄은 블록 생산자의 출력이며 결정론적으로 실행되지만 스케줄을 생성하는 프로세스는 결정성을 가질 필요는 없습니다. 즉, 블록 생산자는 병렬 알고리즘을 사용하여 트랜잭션을 예약 할 수 있습니다.

병렬 실행의 일부는 스크립트가 새 메시지를 생성 할 때 즉시 전달되지 않고 대신 다음 주기에 전달되도록 예약됨을 의미합니다. 수신기가 즉시 다른 스레드에서 자체 상태를 적극적으로 수정할 수 있기 때문에 즉시 배달 할 수 없는 이유가 있습니다.

## 통신대기 시간 최소화

대기 시간은 한 계정이 다른 계정으로 메시지를 보낸 다음 응답을 받는 데 걸리는 시간입니다. 목표는 두 계정이 각 메시지 사이에 3 초를 기다리지 않고도 단일 블록 내에서 메시지를 앞뒤로 교환 할 수 있게 하는 것입니다. 이것을 가능하게하기 위해, EOS.IO 소프트웨어는 각 블록을 사이클로 나눕니다. 각 주기는 스레드로 나뉘며 각 스레드는 트랜잭션 목록을 포함합니다. 각 트랜잭션에는 전달할 메시지 세트가 들어 있습니다. 이 구조는 교번하는 레이어가 순차적으로 그리고 병렬로 처리되는 트리 형태로 시각화 될 수 있습니다.

  블록

    주기 (직렬)

      스레드 (병렬)

        거래 (직렬)

          메시지 (직렬)

            수신자 및 통지 계정 (병렬)

한 사이클에서 생성 된 트랜잭션은 후속 사이클 또는 블록에서 전달 될 수 있습니다. 블록 생산자는 최대 벽시계 시간이 지날 때까지 또는 전달할 새 생성 된 트랜잭션이 없을 때까지 블록에 주기를 계속 추가합니다.

블록의 정적 분석을 사용하여 주어진 주기 내에서 두 개의 스레드에 동일한 계정을 수정하는 트랜잭션이 없는지 확인할 수 있습니다. 그 불변성이 유지되는 한, 모든 스레드를 병렬로 실행하여 블록을 처리 할 수   있습니다.

## 읽기 전용 메시지 처리기

1. 일부 계정은 내부 상태를 수정하지 않고 합격 / 불합격으로 메시지를 처리   할 수   있습니다. 

2. 이 경우 특정 계정에 대한 읽기 전용 메시지 처리기가 특정주기 내의 하나 이상의 스레드에 포함되어있는 한 이러한 처리기를 병렬로 실행할 수 있습니다.

## 여러 계정을 가진 원자 트랜잭션

때로는 메시지가 여러 계정에 배달되고 받아들여 지도록 하는 것이 바람직합니다. 이 경우 두 메시지가 하나의 트랜잭션에 배치되고 두 계정에 동일한 스레드가 할당되고 메시지가 순차적으로 적용됩니다. 이러한 상황은 성능에 이상적이지 않으며 사용자에게 사용료를 청구하는 경우 트랜잭션이 참조하는 고유 계정 수에 따라 비용이 청구됩니다.

성능 및 비용 상의 이유로 2개 이상의 많이 사용되는 계정과 관련된 원자적 조작을 최소화하는 것이 가장 좋습니다.

## 블록체인 상태의 부분 평가

블록체인 기술을 확장하려면 구성 요소가 모듈화 되어 있어야합니다. 특히 어플리케이션의 작은 하위 집합만 사용해야하는 경우 모든 사람이 모든 것을 실행할 필요는 없습니다.

거래소 어플리케이션 개발자는 사용자에게 거래소의 상태를 표시 할 목적으로 전체 노드(Full nodes)를 실행합니다. 이 거래소 어플리케이션은 소셜 미디어 어플리케이션과 관련된 상태가 필요하지 않습니다. EOS.IO 소프트웨어를 사용하면 전체 노드가 실행할 어플리케이션의 하위 집합을 선택할 수 있습니다. 다른 어플리케이션에 전달 된 메시지는 어플리케이션의 상태가 전달 된 메시지에서 완전히 파생되기 때문에 안전하게 무시됩니다.

이것은 다른 계정과의 통신에 중요한 영향을 미칩니다. 가장 중요한 것은 다른 계정의 상태가 동일한 기기에서 액세스 할 수 있다고 가정 할 수 없다는 것입니다. 또한 한 계정이 다른 계정을 동시에 호출하도록 해주는 "잠금"을 사용하려는 경우에도 다른 계정이 메모리에 상주하지 않으면 이 디자인 패턴이 손상된다는 것을 의미합니다.

계정 간의 모든 상태 통신은 블록체인에 포함 된 메시지를 통해 전달되어야합니다.

## 주관적 최고의 스케줄

EOS.IO 소프트웨어는 블록 생산자가 다른 계정으로 메시지를 전달하도록 강제 할 수 없습니다. 각 블록 생산자는 트랜잭션을 처리하는 데 필요한 계산상의 복잡성과 시간을 주관적으로 측정합니다. 이것은 트랜잭션이 사용자에 의해 생성 되든 스크립트에 의해 자동 생성 되든 상관없이 적용됩니다.

EOS.IO 소프트웨어는 네트워크 수준에서 모든 트랜잭션에 실행 시간이 .01ms인지 또는 전체 10ms인지에 관계없이 고정 된 계산 대역폭(bandwith) 비용으로 청구됩니다. 그러나 소프트웨어를 사용하는 각 블록 생산자는 자체 알고리즘 및 측정을 사용하여 리소스 사용을 계산할 수 있습니다. 블록 생산자가 트랜잭션 또는 계정이 과도한 양의 계산 용량을 소비했다고 결론을 내면 블록을 생성 할 때 단순히 트랜잭션을 거부합니다. 그러나 다른 블록 생산자가 유효하다고 간주하면 트랜잭션을 처리합니다.

일반적으로 1명의 블록 생산자조차도 트랜잭션이 유효하고 자원 이용 한도 하에 있다고 생각한다면, 다른 모든 블록 생산자도 이를 수용하지만 트랜잭션이 해당 생산자를 찾는데 최대 1분까지 시간이 걸릴 수 있습니다.

경우에 따라 생산자가 허용 범위를 벗어난 규모의 트랜잭션을 포함하는 블록을 생성 할 수 있습니다. 이 경우 다음 블록 생산자가 블록을 거부 할 수 있으며 세 번째 생산자가 연결을 끊습니다. 큰 블록으로 인해 네트워크 전파 지연이 발생하는 경우와 다를 바 없습니다. 커뮤니티는 어뷰징의 패턴을 발견하고 궁극적으로 불량 생산자의 투표를 제거합니다.

이러한 계산 비용의 주관적인 평가는 블록체인이 무언가를 실행하는 데 걸리는 시간을 정확하고 결정론적으로 측정하지 않아도 되게 해줍니다. 이러한 설계로 합의 사항을 깨지 않고 최적화 기회를 극적으로 증가시키는 지침을 정확하게 집계 할 필요가 없습니다.

# 토큰 모델 및 자원 사용

모든 블록체인은 자원이 제한되어 있으며 악용을 막기 위한 시스템이 필요합니다. EOS.IO 소프트웨어에는 어플리케이션에서 사용하는 세 가지 광범위한 클래스가 있습니다.

1. 대역폭 및 로그 저장소 (디스크);
2. 계산과 계산 백 로그 (CPU);
3. 상태 저장소 (RAM).

대역폭과 계산에는 순간 사용과 장기 사용이라는 두 가지 구성 요소가 있습니다. 블록체인은 모든 메시지의 로그를 관리하며, 이 로그는 모든 전체 노드에 의해 저장되고 다운로드 됩니다. 메시지 로그를 통해 모든 어플리케이션의 상태를 재구성 할 수 있습니다.

과다 연산은 메시지 로그에서 상태를 재생성하기 위해 수행해야하는 계산입니다. 과다 연산이 너무 커지면 블록체인 상태의 스냅 샷을 찍고 블록체인의 기록을 버려야합니다. 과다 연산이 너무 빨리 증가하면 1년분의 거래를 리플레이하는 데 6개월이 걸릴 수 있습니다. 그러므로 과다 연산을 신중하게 관리하는 것이 중요합니다.

블록체인 상태 저장소는 어플리케이션 논리로 접근 할 수 있는 정보입니다. 여기에는 주문서, 계좌 잔고와 같은 정보가 포함됩니다. 상태가 어플리케이션에서 읽히지 않으면 저장하지 않아야합니다. 예를 들어 블로그 게시물 내용과 주석은 어플리케이션 논리에 의해 읽히지 않으므로 블록체인의 상태로 저장하면 안 됩니다. 한편 게시물/댓글, 투표 수와 기타 다른 속성의 존재는 블록체인의 상태의 일부로 저장됩니다.

블록 생산자는 대역폭, 계산 및 상태에 대해 사용 가능한 용량을 게시합니다. EOS.IO 소프트웨어를 사용하면 각 계정에서 3 일간의 스테이킹 계약에서 보유한 토큰 양에 비례하여 사용 가능한 용량의 일정 비율을 소비 할 수 있습니다. 예를 들어, EOS.IO 소프트웨어를 기반으로 하는 블록체인이 시작되고 해당 블록체인에 따라 배포 가능한 총 토큰의 1%를 계정에 보유하고 있는 경우 해당 계정은 상태 저장 용량의 1%를 사용할 수 있습니다.

EOS.IO 소프트웨어를 사용하면 대역폭과 계산 용량이 일시적이기 때문에(사용되지 않은 용량은 나중에 사용하기 위해 저장할 수 없음) 예비 예약 기준으로 할당됩니다. EOS.IO에서 사용되는 알고리즘은 대역폭 사용량의 속도를 제한하기 위해 스팀에서 사용하는 알고리즘과 비슷합니다.

## 객관적,주관적 측정

앞에서 설명한 것처럼 계측 컴퓨터 사용은 성능 및 최적화에 중요한 영향을 미칩니다. 따라서 모든 리소스 사용 제약 조건은 궁극적으로 주관적이고 실행은 개별 알고리즘 및 추정에 따라 블록 생산자에 의해 수행됩니다.

즉, 객관적으로 측정하기에는 사소한, 특정한 것들이 있습니다. 전달되는 메시지의 수와 내부 데이터베이스에 저장된 데이터의 크기는 저렴하여 객관적으로 측정할 수 있습니다. EOS.IO 소프트웨어는 블록 생산자가 이러한 객관적 측정에 대해 동일한 알고리즘을 적용 할 수 있게 하지만 주관적인 측정보다 엄격한 주관적 알고리즘을 적용하는 것을 선택할 수도 있습니다.

## 수취인 부담

전통적으로 사무실 공간, 계산 능력 및 사업 운영에 필요한 기타 비용을 지불하는 것은 사업입니다. 고객이 사업에서 특정 제품을 구매하면 해당 제품 판매에서 발생한 수익이 사업 운영비용을 충당하는 데 사용됩니다. 마찬가지로 어떤 웹 사이트도 방문객에게 호스팅 비용을 충당하기 위해 웹 사이트 방문을 위한 소액 결제를 하도록 의무를 부과하지 않습니다. 따라서 분산 된 어플리케이션은 고객이 블록체인을 사용하기 위해 블록체인을 직접 지불하도록 강요해서는 안 됩니다.

EOS.IO 소프트웨어는 사용자가 사용하기 위해 블록체인에 직접 비용을 지불 할 것을 요구하지 않으므로 사업이 자사 제품에 대한 자체 수익 창출 전략을 결정하는 것을 제한하거나 방지하지 않습니다.

## 용량 위임

EOS.IO 소프트웨어를 사용하여 블록체인을 시작한 경우 사용 가능한 대역폭의 전부 또는 일부를 즉각적으로 사용할 필요가 없는 소유자가 토큰을 보유한 경우 이러한 소유자는 사용되지 않은 대역폭을 다른 사람에게 제공하거나 빌릴 수 있습니다. EOS.IO 소프트웨어를 실행하는 블록 생산자는 이 용량 위임을 인식하고 그에 따라 대역폭을 할당합니다.

## 트랜잭션 비용을 토큰 값과 구분

EOS.IO 소프트웨어의 주요 이점 중 하나는 어플리케이션에 사용 가능한 대역폭의 양이 토큰 가격과 완전히 독립적이라는 것입니다. 어플리케이션 소유자가 관련 토큰 수를 보유하고 있으면 어플리케이션은 고정 된 상태와 대역폭 사용 내에서 무한히 실행될 수 있습니다. 개발자와 사용자는 토큰 시장의 가격 변동성에 영향을 받지 않으므로 가격 공급에 의존하지 않습니다. EOS.IO 소프트웨어를 사용하면 블록 생산자는 토큰의 값과 관계없이 자연적으로 대역폭, 계산 및 저장소를 사용할 수 있습니다.

EOS.IO 소프트웨어는 블록 생산자가 블록을 생산할 때마다 그들에게 토큰을 줍니다. 그 토큰의 가치는 생산자가 구매할 수 있는 대역폭, 저장소(storage)와 계산량에 영향을 미칩니다. 이 모델은 증가하는 토큰 값을 자연스럽게 활용하여 네트워크 성능을 향상시킵니다.

## 상태 저장 비용

대역폭과 계산을 위임 할 수 있지만 어플리케이션 상태를 저장하려면 어플리케이션 개발자가 해당 상태가 삭제 될 때까지 토큰을 보유해야합니다. 상태가 절대로 삭제되지 않으면 토큰이 순환과정을 통하여 효과적으로 제거됩니다.

모든 사용자 계정에는 일정량의 저장소가 필요합니다. 그러므로 모든 계좌는 최소 잔액을 유지해야합니다. 네트워크의 저장 용량이 증가함에 따라 최소한의 필요한 잔고가 줄어들게 됩니다.

## 블록 보상

EOS.IO 소프트웨어는 블록이 생성 될 때마다 새로운 토큰을 블록 생산자에게 보냅니다. 생성 된 토큰의 수는 모든 블록 생산자에 의해 발행되어 그들이 받고 싶어하는 지불 값들 중 중앙값에 의해 결정됩니다. EOS.IO 소프트웨어는 토큰 공급의 연 증가분이 5%를 초과하지 않도록 생산자 보상 값에 상한선을 적용하는 방식으로 구성 될 수 있습니다.

## 커뮤니티 혜택 어플리케이션

EOS.IO 소프트웨어를 기반으로 블록 생산자를 선발하는 것 외에도 스마트 컨트랙트로 알려진 3가지 커뮤니티 혜택 어플리케이션을 선택할 수 있습니다. 이 3가지 어플리케이션은 연간 토큰 공급량의 구성 백분율에서 블록 생산자에게 지불된 토큰을 뺀 만큼의 토큰을 받습니다. 이러한 스마트 컨트랙트는 각 어플리케이션이 토큰 보유자로부터 받은 투표에 비례하여 토큰을 받게 됩니다. 선출된 어플리케이션이나 스마트 컨트랙트는 토큰 보유자가 새로 선출한 어플리케이션이나 스마트 컨트랙트로 대체 될 수 있습니다.

# 거버넌스

거버넌스는 사람들이 소프트웨어 알고리즘으로는 완전히 포착 할 수없는 주관적인 문제에 대한 합의에 이르는 과정입니다. EOS.IO 소프트웨어는 블록 생산자의 기존 영향을 효율적으로 총괄하는 거버넌스 프로세스를 구현합니다. 정의된 거버넌스 프로세스가 없다면, 이전의 블록체인은 예측할 수 없는 결과를 가져 오는 임시, 비공식적인, 그리고 종종 논란이 되는 거버넌스 프로세스에 의존했습니다.

EOS.IO 소프트웨어는 권력이 블록 생산자에게 그 권한을 위임 한 토큰 보유자와 관련되어 있다는 것을 알고 있습니다. 블록 생산자는 계정을 동결하고, 결함이 있는 어플리케이션을 업데이트하고, 기본 프로토콜에 대한 변경을 제안하는 제한적이며 확인 된 권한이 부여됩니다.

EOS.IO 소프트웨어의 일부는 블록 생산자 선출입니다. 블록체인을 변경하기 전에 블록 생산자가 이를 승인해야합니다. 블록 생산자가 토큰 보유자가 원하는 변경을 거부하면 해당 블록을 투표 할 수 있습니다. 블록 생산자가 토큰 보유자의 허가 없이 변경하면 다른 모든 비 생성 전체 노드 유효성 검사기(거래소, 기타등등)가 변경을 거부하게 될 것입니다.

## 계정 동결

때로는 스마트 컨트랙트가 비정상적이거나 예측할 수 없는 방식으로 작동하고 의도한대로 기능을 수행하지 못할 수도 있습니다. 다른 경우에는 어플리케이션이나 계정이 불합리한 양의 자원을 소비 할 수 있는 악용 사례를 발견 할 수 있습니다. 이러한 문제가 필연적으로 발생하면 블록 생산자는 이러한 상황을 바로 잡을 수 있는 힘을 가지고 있습니다.

모든 블록체인의 블록 생산자는 블록을 포함하는 트랜잭션을 선택하여 계정을 고정 할 수 있습니다. EOS.IO 소프트웨어는계정을 동결하는 과정을 활동 중인 생산자의 17/21 표결에 부쳐서 이 권한을 공식화합니다. 생산자가 권력을 남용하면 투표에서 제외 될 수 있고 계정은 동결됩니다.

## 계정 코드 변경

다른 모든 방식이 실패하고 "멈출 수 없는 어플리케이션"이 예기치 않은 방식으로 작동하면 EOS.IO 소프트웨어는 블록 생산자가 전체 블록체인을 하드 포킹하지 않고 계정의 코드를 대체 할 수 있게 해줍니다. 계좌를 동결하는 과정과 마찬가지로, 이 코드를 대체하려면 선출된 블록 생산자의 17/21표를 얻어야합니다.

## 헌법

EOS.IO 소프트웨어는 블록체인이 P2P 서비스 약정을 체결하거나 서명 한 사용자간에 구속력 있는 계약 ("헌법")을 수립합니다. 이 헌법의 내용은 코드에 의해 완전히 강제 될 수없는 사용자 간의 의무를 정의하고 상호 간에 인정된 규칙으로 관할권을 확립하고 법률을 선택함으로써 분쟁 해결을 용이하게 합니다. 네트워크상의 모든 트랜잭션 브로드캐스트는 헌법의 해시를 서명의 일부로 포함시켜 서명자와 계약을 명시적으로 연결해야만 합니다.

헌법은 또한 사람이 읽을 수 있는 소스 코드 프로토콜의 의도를 정의합니다. 이 의도는 오류가 발생할 때 버그와 기능의 차이를 식별하고 커뮤니티가 어떤 수정이 적절하거나 부적절한지를 알게 해주는데에 사용됩니다.

## 프로토콜과 헌법 개정

EOS.IO 소프트웨어는 정식 소스 코드 및 구성에 의해 정의 된 프로토콜을 다음 프로세스를 사용하여 업데이트 할 수 있는 프로세스를 정의합니다.

1. 블록 생산자는 헌법의 변경을 제안하고 17/21 승인을 받습니다.
2. 블록 생산자는 30일 연속 17/21 승인을 유지합니다.
3. 모든 사용자는 새 헌법의 해시를 사용하여 거래에 서명해야합니다.
4. 블록 생산자는 헌법의 변경을 반영하기 위해 소스 코드의 변경을 채택하고 git commit의 해시를 사용하여 블록체인에 제안합니다.
5. 블록 생산자는 30일 연속 17/21 승인을 유지합니다.
6. 코드 변경은 소스 코드 비준 이후 모든 노드에게 7일의 업그레이드 할 시간을 주고 7 일이 지난 후부터 적용됩니다.
7. 새 코드로 업그레이드하지 않는 모든 노드는 자동으로 종료됩니다.

EOS.IO 소프트웨어의 기본 구성으로 새로운 기능을 추가하기 위해 블록체인을 업데이트하는 프로세스는 2개월에서 3개월이 걸리지만 헌법을 변경할 필요가 없는 중요하지 않은 버그를 수정하는 데는 1-2개월이 걸릴 수 있습니다.

## 응급 변경

사용자를 능동적으로 해치는 유해 버그 또는 보안 취약성을 수정하기 위해 소프트웨어 변경이 필요한 경우 블록 생산자가 프로세스를 가속화 할 수 있습니다. 일반적으로 새로운 기능을 도입하거나 무해한 버그를 수정하기 위해 업데이트가 가속화되는 것은 헌법에 위배 될 수 있습니다.

# 스크립트와 가상 기계

EOS.IO 소프트웨어는 인증 된 메시지를 계정에 전달하는 과정을 조정하는 최초의 플랫폼입니다. 스크립팅 언어 및 가상 기계의 세부 사항은 EOS.IO 기술 설계와는 일반적으로 독립적인 구현 세부 사항입니다. 결정성이 있고 충분한 성능으로 적절하게 샌드 박싱 된 모든 언어나 가상 시스템은 EOS.IO 소프트웨어 API와 통합 될 수 있습니다.

## 스키마 정의 메시지

계정 간에 전송되는 모든 메시지는 블록체인 합의 상태의 일부인 스키마에 의해 정의됩니다. 이 스키마는 메시지의 바이너리와 JSON 표현 간에 매끄러운 변환을 할 수 있게 해줍니다.

## 스키마 정의 데이터베이스

데이터베이스 상태는 유사한 스키마를 사용하여 정의됩니다. 이렇게 하면 모든 어플리케이션에 저장된 모든 데이터가 사람이 읽을 수 있는 JSON으로 해석 될 수도 있고 바이너리의 효율성으로 저장되고 조작 될 수도 있는 형식으로 유지됩니다.

## 어플리케이션과 인증 구분

병렬 처리 효율을 극대화하고 트랜잭션 로그에서 어플리케이션 상태를 다시 생성할 때 발생하는 과다 연산을 최소화하기 위해 EOS.IO는 유효성 검사 논리를 세 가지 섹션으로 구분합니다.

1. 내적으로 일관성이 있는지 확인
2. 모든 전제 조건이 유효하다는 것을 확인
3. 어플리케이션 상태를 수정

메시지의 내적 일관성을 검증하기 위해서는 읽기 연산만 있으면 되며, 블록체인 상태에 액세스 할 필요가 없습니다. 이는 최대 병렬 처리로 수행 될 수 있음을 의미합니다. 필수 균형과 같은 전제 조건을 검증하기 위해서는 읽기 연산만으로 구성 되므로 병렬 처리에서도 도움이 됩니다. 어플리케이션 상태를 수정하는 것 만이 쓰기 액세스가 필요하며 각 어플리케이션에 대해 순차적으로 처리해야합니다.

인증(Authentication)은 메시지를 적용 가능 여부를 확인하는 읽기 연산 프로세스입니다. 어플리케이션이 실제 작업을 수행합니다. 실시간으로 두 가지 계산이 수행되어야하지만 트랜잭션이 블록체인에 포함되면 더 이상 인증 작업을 수행 할 필요가 없습니다.

## 가상 기계 독립 아키텍처

EOS.IO 소프트웨어는 여러 개의 가상 기계을 지원하고 필요할 때마다 새로운 가상 기계를 추가할 의도를 갖고 있습니다. 따라서 이 백서에서는 특정 언어나 가상 기계에 대한 세부 정보를 다루지 않습니다. 즉, 현재 EOS.IO 용으로 평가되는 두 개의 가상 기계가 있습니다. 웹 어셈블리와 이더리움 가상 기계입니다.

### 웹 어셈블리 (WASM)

웹 어셈블리는 고성능 웹 어플리케이션을 구축하기위한 새로운 웹 표준입니다. 아주 작은 수정을 통해 웹 어셈블리는 샌드박싱되고 결정성을 갖게 될 수 있습니다. 웹 어셈블리의 이점은 업계의 광범위한 지지와 C 또는 C ++와 같은 친숙한 언어로 컨트랙트를 개발할 수 있다는 것입니다.

이더리움 개발자는 이미 [이더리움 웹 어셈블리(WASM)](https://github.com/ewasm/design)에서 적절한 샌드 박스를 제공하고 결정성을 갖기 위해 웹 어셈블리를 수정하기 시작했습니다. 이러한 접근 방식은 EOS.IO 소프트웨어에 적당하게 통합 될 수 있습니다.

### 이더리움 가상 기계 (EVM)

이 가상 기계는 기존의 스마트 컨트랙트에 사용되어 EOS.IO 블록체인에서 작동하도록 수정될 수 있습니다. EVM 컨트랙트는 EOS.IO 블록체인 내부의 자체 샌드 박스 내에서 실행될 수 있으며 일부 EVM 컨트랙트의 경우 다른 EOS.IO 블록체인 어플리케이션과 통신할 수 있다고 생각될 수 있습니다.

# 블록체인 간의 통신

EOS.IO 소프트웨어는 블록체인 간 통신을 용이하게 하기 위해 설계되었습니다. 이는 메시지 존재 증명과 메시지 시퀀스 증명을 쉽게 생성하여 얻을 수 있습니다. 메시지 전달과 관련하여 설계된 어플리케이션 아키텍처와 결합 된 이러한 증명은 블록체인 간 통신 및 증명 유효성 검사에 대한 세부 정보를 어플리케이션 개발자에게 숨길 수 있습니다.

## LCV (Light Client Validation)를 위한 Merkle Proofs

클라이언트가 모든 트랜잭션을 처리 할 필요가 없다면 다른 블록체인과 통합하는 것이 훨씬 더 쉽습니다. 결국, 거래소는 거래소 내외부의 거래에 대해서만 관심이 있습니다. 거래소 체인이 자체 블록 생산자를 완전히 신뢰하지 않고 예치금에 대한 가벼운 머클 증명을 사용 할 수 있다면 이상적입니다. 적어도 체인의 블록 생산자는 다른 블록체인과 동기화 할 때 가능한 최소한의 오버 헤드를 유지하려고합니다.

LCV의 목표는 상대적으로 가벼운 데이터 세트를 추적하는 사람이 검증 할 수 있는 비교적 가벼운 존재 증명을 만들 수 있게 하는 것입니다. 이 경우 목적은 특정 거래가 특정 블록에 포함되었으며 해당 블록이 특정 블록체인의 확인 된 내역에 포함되어 있음을 증명하는 것입니다.

비트코인은 모든 노드가 블록 헤더의 전체 기록에 액세스 할 수 있다고 가정하고 트랜잭션의 유효성 검사를 지원합니다. 이 헤더는 연간 4MB의 블록 헤더에 해당합니다. 초당 10 회의 트랜잭션에서 유효한 증명은 약 512 바이트가 필요합니다. 이것은 10분 블록 간격을 가진 블록체인에 대해서는 잘 작동하지만 3초 블록 간격을 가진 블록체인에 대해서는 더 이상 "가벼운"것이 아닙니다. EOS.IO 소프트웨어는 트랜잭션이 포함 된 시점 이후에 되돌릴 수없는 블록 헤더를 가진 사람이라면 누구나 가벼운 증명을 가능하게 합니다. 아래에 표시된 해시 링크 구조를 사용하면 크기가 1024 바이트 미만인 증명이 있는 모든 트랜잭션의 존재를 증명할 수 있습니다. 유효성 검사 노드가 지난 날 (2MB의 데이터)에 모든 블록 헤더를 유지한다고 가정하면 이러한 트랜잭션을 증명하는 데는 200 바이트 길이의 증명만 있으면 됩니다.

적절한 해시-링크를 사용하여 블록을 생성하는 것과 관련된 증분 오버 헤드가 거의 없기 때문에 이러한 방법으로 블록을 생성하는 것이 타당합니다.

다른 체인의 증명을 검증 할 때가되면 다양한 시간/공간/대역폭 최적화가 가능합니다. 모든 블록 헤더 (420MB/년)를 추적하면 증명의 크기가 작게 유지됩니다. 최근의 헤더만 추적하면 최소 장기 저장 공간과 증명 크기 사이의 균형을 유지할 수 있습니다. 대신에 블록체인은 과거 증명의 중간 해시를 기억하는 지연 평가 방식을 사용할 수 있습니다. 새로운 증명은 알려진 스파스 트리에 대한 링크 만 포함하면 됩니다. 이용된 정확한 접근 방식은 결국 머클 증명(merkle proof)에 의해 참조된 트랜잭션을 포함하는 외부 블록의 비율에 따라 달라질 것입니다.

상호 연관성이 특정 밀도를 가진 후에는 하나의 체인에 다른 체인의 전체 블록 히스토리가 포함되도록 하고 보다 효과적으로 모든 필요성을 제거하는 것이 더 효율적입니다. 성능상의 이유로 블록 체인 간 증명의 빈도를 최소화하는 것이 이상적입니다.

## 체인 간 통신 지연

다른 외부 블록체인과 통신 할 때, 블록 생산자는 트랜잭션이 유효한 입력으로 받아들여지기 전에 다른 블록체인에 의해 비가역성을 갖고 있다고 확인 된 것을 100% 확신 할 수 있을 때까지 기다려야합니다. 3초 블록과 21명의 생산자가 있는 EOS.IO 소프트웨어와 DPOS를 사용하면 약 45초가 소요됩니다. 블록 체인의 블록 생산자가 비가역성을 기다리지 않는다면 나중에 인출한 돈을 받았다고하는 거래소와 다를 바 없을 것이고 이거은 블록체인 합의의 타당성에 영향을 미칠 수 있습니다.

## 완전성 증명

외부 블록체인에서 머클 증명을 사용할 때, 처리 된 모든 트랜잭션이 유효하다는 것과 트랜잭션이 건너뛰거나 생략되지 않았다는 것을 아는 것 사이에는 상당한 차이가 있습니다. 가장 최근의 모든 거래가 알려졌다는 것을 증명하는 것은 불가능하지만, 거래 이력에는 아무런 공백이 없다는 것을 증명하는 것이 가능합니다. EOS.IO 소프트웨어는 모든 계정에 전달되는 모든 메시지에 일련번호를 할당함으로써 이를 용이하게 합니다. 사용자는 이 일련번호를 사용하여 특정 계정을 대상으로 하는 모든 메시지가 처리되었고 이것이 순서대로 처리되었음을 증명할 수 있습니다.

# 마무리

EOS.IO 소프트웨어는 입증 된 개념과 모범 사례를 바탕으로 설계되었으며 블록체인 기술의 근본적인 진보를 나타냅니다. 이 소프트웨어는 탈중앙화 어플리케이션을 쉽게 배포하고 관리 할 수 있는 세계적으로 확장 가능한 블록체인 사회를 위한 전체론적 청사진의 일부입니다.